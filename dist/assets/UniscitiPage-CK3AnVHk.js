import{b as ce,r as R,j as s}from"./index-CBP8uLTV.js";import{N as Oe,F as je}from"./Footer-Dioas8a2.js";/* empty css                         */var le={exports:{}},Pe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Te=Pe,Le=Te;function de(){}function pe(){}pe.resetWarningCache=de;var Ee=function(){function e(n,r,a,g,y,d){if(d!==Le){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pe,resetWarningCache:de};return o.PropTypes=o,o};le.exports=Ee();var Ie=le.exports;const b=ce(Ie);var Ne=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},q.apply(this,arguments)}function Ce(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}function I(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ke(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,W(e,t)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},W(e,t)}var N=function(e){ke(t,e);function t(){var n;return n=e.call(this)||this,n.handleExpired=n.handleExpired.bind(I(n)),n.handleErrored=n.handleErrored.bind(I(n)),n.handleChange=n.handleChange.bind(I(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(I(n)),n}var o=t.prototype;return o.getCaptchaFunction=function(r){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[r]:this.props.grecaptcha[r]:null},o.getValue=function(){var r=this.getCaptchaFunction("getResponse");return r&&this._widgetId!==void 0?r(this._widgetId):null},o.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},o.execute=function(){var r=this.getCaptchaFunction("execute");if(r&&this._widgetId!==void 0)return r(this._widgetId);this._executeRequested=!0},o.executeAsync=function(){var r=this;return new Promise(function(a,g){r.executionResolve=a,r.executionReject=g,r.execute()})},o.reset=function(){var r=this.getCaptchaFunction("reset");r&&this._widgetId!==void 0&&r(this._widgetId)},o.forceReset=function(){var r=this.getCaptchaFunction("reset");r&&r()},o.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},o.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},o.handleChange=function(r){this.props.onChange&&this.props.onChange(r),this.executionResolve&&(this.executionResolve(r),delete this.executionReject,delete this.executionResolve)},o.explicitRender=function(){var r=this.getCaptchaFunction("render");if(r&&this._widgetId===void 0){var a=document.createElement("div");this._widgetId=r(a,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(a)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},o.componentDidMount=function(){this.explicitRender()},o.componentDidUpdate=function(){this.explicitRender()},o.handleRecaptchaRef=function(r){this.captcha=r},o.render=function(){var r=this.props;r.sitekey,r.onChange,r.theme,r.type,r.tabindex,r.onExpired,r.onErrored,r.size,r.stoken,r.grecaptcha,r.badge,r.hl,r.isolated;var a=Ce(r,Ne);return R.createElement("div",q({},a,{ref:this.handleRecaptchaRef}))},t}(R.Component);N.displayName="ReCAPTCHA";N.propTypes={sitekey:b.string.isRequired,onChange:b.func,grecaptcha:b.object,theme:b.oneOf(["dark","light"]),type:b.oneOf(["image","audio"]),tabindex:b.number,onExpired:b.func,onErrored:b.func,size:b.oneOf(["compact","normal","invisible"]),stoken:b.string,hl:b.string,badge:b.oneOf(["bottomright","bottomleft","inline"]),isolated:b.bool};N.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var ue={exports:{}},l={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=typeof Symbol=="function"&&Symbol.for,Z=m?Symbol.for("react.element"):60103,J=m?Symbol.for("react.portal"):60106,C=m?Symbol.for("react.fragment"):60107,k=m?Symbol.for("react.strict_mode"):60108,A=m?Symbol.for("react.profiler"):60114,$=m?Symbol.for("react.provider"):60109,D=m?Symbol.for("react.context"):60110,X=m?Symbol.for("react.async_mode"):60111,F=m?Symbol.for("react.concurrent_mode"):60111,U=m?Symbol.for("react.forward_ref"):60112,H=m?Symbol.for("react.suspense"):60113,Ae=m?Symbol.for("react.suspense_list"):60120,M=m?Symbol.for("react.memo"):60115,V=m?Symbol.for("react.lazy"):60116,$e=m?Symbol.for("react.block"):60121,De=m?Symbol.for("react.fundamental"):60117,Fe=m?Symbol.for("react.responder"):60118,Ue=m?Symbol.for("react.scope"):60119;function S(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Z:switch(e=e.type,e){case X:case F:case C:case A:case k:case H:return e;default:switch(e=e&&e.$$typeof,e){case D:case U:case V:case M:case $:return e;default:return t}}case J:return t}}}function fe(e){return S(e)===F}l.AsyncMode=X;l.ConcurrentMode=F;l.ContextConsumer=D;l.ContextProvider=$;l.Element=Z;l.ForwardRef=U;l.Fragment=C;l.Lazy=V;l.Memo=M;l.Portal=J;l.Profiler=A;l.StrictMode=k;l.Suspense=H;l.isAsyncMode=function(e){return fe(e)||S(e)===X};l.isConcurrentMode=fe;l.isContextConsumer=function(e){return S(e)===D};l.isContextProvider=function(e){return S(e)===$};l.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Z};l.isForwardRef=function(e){return S(e)===U};l.isFragment=function(e){return S(e)===C};l.isLazy=function(e){return S(e)===V};l.isMemo=function(e){return S(e)===M};l.isPortal=function(e){return S(e)===J};l.isProfiler=function(e){return S(e)===A};l.isStrictMode=function(e){return S(e)===k};l.isSuspense=function(e){return S(e)===H};l.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===C||e===F||e===A||e===k||e===H||e===Ae||typeof e=="object"&&e!==null&&(e.$$typeof===V||e.$$typeof===M||e.$$typeof===$||e.$$typeof===D||e.$$typeof===U||e.$$typeof===De||e.$$typeof===Fe||e.$$typeof===Ue||e.$$typeof===$e)};l.typeOf=S;ue.exports=l;var He=ue.exports,Y=He,Me={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ve={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ze={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},me={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Q={};Q[Y.ForwardRef]=ze;Q[Y.Memo]=me;function ie(e){return Y.isMemo(e)?me:Q[e.$$typeof]||Me}var qe=Object.defineProperty,We=Object.getOwnPropertyNames,ae=Object.getOwnPropertySymbols,Ke=Object.getOwnPropertyDescriptor,Be=Object.getPrototypeOf,se=Object.prototype;function he(e,t,o){if(typeof t!="string"){if(se){var n=Be(t);n&&n!==se&&he(e,n,o)}var r=We(t);ae&&(r=r.concat(ae(t)));for(var a=ie(e),g=ie(t),y=0;y<r.length;++y){var d=r[y];if(!Ve[d]&&!(o&&o[d])&&!(g&&g[d])&&!(a&&a[d])){var p=Ke(t,d);try{qe(e,d,p)}catch{}}}}return e}var Ge=he;const Ze=ce(Ge);function K(){return K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},K.apply(this,arguments)}function Je(e,t){if(e==null)return{};var o={},n=Object.keys(e),r,a;for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&(o[r]=e[r]);return o}function Xe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var w={},Ye=0;function Qe(e,t){return t=t||{},function(n){var r=n.displayName||n.name||"Component",a=function(y){Xe(d,y);function d(u,c){var i;return i=y.call(this,u,c)||this,i.state={},i.__scriptURL="",i}var p=d.prototype;return p.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Ye++),this.__scriptLoaderID},p.setupScriptURL=function(){return this.__scriptURL=typeof e=="function"?e():e,this.__scriptURL},p.asyncScriptLoaderHandleLoad=function(c){var i=this;this.setState(c,function(){return i.props.asyncScriptOnLoad&&i.props.asyncScriptOnLoad(i.state)})},p.asyncScriptLoaderTriggerOnScriptLoaded=function(){var c=w[this.__scriptURL];if(!c||!c.loaded)throw new Error("Script is not loaded.");for(var i in c.observers)c.observers[i](c);delete window[t.callbackName]},p.componentDidMount=function(){var c=this,i=this.setupScriptURL(),f=this.asyncScriptLoaderGetScriptLoaderID(),v=t,_=v.globalName,P=v.callbackName,T=v.scriptId;if(_&&typeof window[_]<"u"&&(w[i]={loaded:!0,observers:{}}),w[i]){var O=w[i];if(O&&(O.loaded||O.errored)){this.asyncScriptLoaderHandleLoad(O);return}O.observers[f]=function(x){return c.asyncScriptLoaderHandleLoad(x)};return}var te={};te[f]=function(x){return c.asyncScriptLoaderHandleLoad(x)},w[i]={loaded:!1,observers:te};var j=document.createElement("script");j.src=i,j.async=!0;for(var re in t.attributes)j.setAttribute(re,t.attributes[re]);T&&(j.id=T);var oe=function(L){if(w[i]){var _e=w[i],z=_e.observers;for(var ne in z)L(z[ne])&&delete z[ne]}};P&&typeof window<"u"&&(window[P]=function(){return c.asyncScriptLoaderTriggerOnScriptLoaded()}),j.onload=function(){var x=w[i];x&&(x.loaded=!0,oe(function(L){return P?!1:(L(x),!0)}))},j.onerror=function(){var x=w[i];x&&(x.errored=!0,oe(function(L){return L(x),!0}))},document.body.appendChild(j)},p.componentWillUnmount=function(){var c=this.__scriptURL;if(t.removeOnUnmount===!0)for(var i=document.getElementsByTagName("script"),f=0;f<i.length;f+=1)i[f].src.indexOf(c)>-1&&i[f].parentNode&&i[f].parentNode.removeChild(i[f]);var v=w[c];v&&(delete v.observers[this.asyncScriptLoaderGetScriptLoaderID()],t.removeOnUnmount===!0&&delete w[c])},p.render=function(){var c=t.globalName,i=this.props;i.asyncScriptOnLoad;var f=i.forwardedRef,v=Je(i,["asyncScriptOnLoad","forwardedRef"]);return c&&typeof window<"u"&&(v[c]=typeof window[c]<"u"?window[c]:void 0),v.ref=f,R.createElement(n,v)},d}(R.Component),g=R.forwardRef(function(y,d){return R.createElement(a,K({},y,{forwardedRef:d}))});return g.displayName="AsyncScriptLoader("+r+")",g.propTypes={asyncScriptOnLoad:b.func},Ze(g,n)}}var B="onloadcallback",et="grecaptcha";function G(){return typeof window<"u"&&window.recaptchaOptions||{}}function tt(){var e=G(),t=e.useRecaptchaNet?"recaptcha.net":"www.google.com";return e.enterprise?"https://"+t+"/recaptcha/enterprise.js?onload="+B+"&render=explicit":"https://"+t+"/recaptcha/api.js?onload="+B+"&render=explicit"}const rt=Qe(tt,{callbackName:B,globalName:et,attributes:G().nonce?{nonce:G().nonce}:{}})(N);class E{constructor(t=0,o="Network Error"){this.status=t,this.text=o}}const ot=()=>{if(!(typeof localStorage>"u"))return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}},h={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ot()},ee=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},nt=(e,t="https://api.emailjs.com")=>{if(!e)return;const o=ee(e);h.publicKey=o.publicKey,h.blockHeadless=o.blockHeadless,h.storageProvider=o.storageProvider,h.blockList=o.blockList,h.limitRate=o.limitRate,h.origin=o.origin||t},ge=async(e,t,o={})=>{const n=await fetch(h.origin+e,{method:"POST",headers:o,body:t}),r=await n.text(),a=new E(n.status,r);if(n.ok)return a;throw a},ye=(e,t,o)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||typeof t!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!o||typeof o!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},it=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},ve=e=>e.webdriver||!e.languages||e.languages.length===0,be=()=>new E(451,"Unavailable For Headless Browser"),at=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof t!="string")throw"The BlockList watchVariable has to be a string"},st=e=>{var t;return!((t=e.list)!=null&&t.length)||!e.watchVariable},ct=(e,t)=>e instanceof FormData?e.get(t):e[t],Se=(e,t)=>{if(st(e))return!1;at(e.list,e.watchVariable);const o=ct(t,e.watchVariable);return typeof o!="string"?!1:e.list.includes(o)},xe=()=>new E(403,"Forbidden"),lt=(e,t)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&typeof t!="string")throw"The LimitRate ID has to be a non-empty string"},dt=async(e,t,o)=>{const n=Number(await o.get(e)||0);return t-Date.now()+n},we=async(e,t,o)=>{if(!t.throttle||!o)return!1;lt(t.throttle,t.id);const n=t.id||e;return await dt(n,t.throttle,o)>0?!0:(await o.set(n,Date.now().toString()),!1)},Re=()=>new E(429,"Too Many Requests"),pt=async(e,t,o,n)=>{const r=ee(n),a=r.publicKey||h.publicKey,g=r.blockHeadless||h.blockHeadless,y=r.storageProvider||h.storageProvider,d={...h.blockList,...r.blockList},p={...h.limitRate,...r.limitRate};return g&&ve(navigator)?Promise.reject(be()):(ye(a,e,t),it(o),o&&Se(d,o)?Promise.reject(xe()):await we(location.pathname,p,y)?Promise.reject(Re()):ge("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:e,template_id:t,template_params:o}),{"Content-type":"application/json"}))},ut=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},ft=e=>typeof e=="string"?document.querySelector(e):e,mt=async(e,t,o,n)=>{const r=ee(n),a=r.publicKey||h.publicKey,g=r.blockHeadless||h.blockHeadless,y=h.storageProvider||r.storageProvider,d={...h.blockList,...r.blockList},p={...h.limitRate,...r.limitRate};if(g&&ve(navigator))return Promise.reject(be());const u=ft(o);ye(a,e,t),ut(u);const c=new FormData(u);return Se(d,c)?Promise.reject(xe()):await we(location.pathname,p,y)?Promise.reject(Re()):(c.append("lib_version","4.4.1"),c.append("service_id",e),c.append("template_id",t),c.append("user_id",a),ge("/api/v1.0/email/send-form",c))},ht={init:nt,send:pt,sendForm:mt,EmailJSResponseStatus:E},bt=()=>{const[e,t]=R.useState({nome:"",cognome:"",email:"",telefono:"",corso:"",annoStudio:"",message:""}),[o,n]=R.useState(!1),[r,a]=R.useState("idle"),[g,y]=R.useState(!1),[d,p]=R.useState(null),u=i=>{const{name:f,value:v}=i.target;t(_=>({..._,[f]:v}))},c=async i=>{if(i.preventDefault(),!d){a("error");return}n(!0),a("idle");try{console.log("🚀 === INIZIO DEBUG FORM ISCRIZIONE ==="),console.log("📧 Timestamp:",new Date().toISOString()),console.log("📋 Dati form completi:",e);const f=new Date,v=f.toLocaleDateString("it-IT"),_=f.toLocaleTimeString("it-IT"),P=`NUOVA ISCRIZIONE AUVR - ${e.nome} ${e.cognome}

DATI PERSONALI:
Nome: ${e.nome}
Cognome: ${e.cognome}
Email: ${e.email}
Telefono: ${e.telefono||"Non fornito"}

PERCORSO UNIVERSITARIO:
Corso di Studio: ${e.corso}
Anno di Corso: ${e.annoStudio}

DATA ISCRIZIONE: ${v} alle ${_}

Iscrizione ricevuta tramite sito web AUVR.`,T={from_name:`${e.nome} ${e.cognome}`,from_email:e.email,reply_to:e.email,subject:`Nuova Iscrizione AUVR - ${e.nome} ${e.cognome}`,nome:e.nome,cognome:e.cognome,email:e.email,telefono:e.telefono||"Non fornito",corso:e.corso,anno:e.annoStudio,data_iscrizione:v,ora_iscrizione:_,message:P,full_message:P,user_name:`${e.nome} ${e.cognome}`,user_email:e.email};console.log("🧹 RIMOSSA DUPLICAZIONE: email contiene solo indirizzo"),console.log("templateParams (final):",T);const O=await ht.send("service_74wkl5e","template_du95iyj",T,"7dM4wI7SyP76uxXj6");console.log("✅ === INVIO COMPLETATO CON SUCCESSO ==="),console.log("📊 Risultato EmailJS:",O),console.log("🎉 Email inviata con successo!"),t({nome:"",cognome:"",email:"",telefono:"",corso:"",annoStudio:"",message:""}),y(!1),p(null),a("success"),setTimeout(()=>{a("idle")},8e3)}catch(f){console.error("❌ === ERRORE DURANTE INVIO ==="),console.error("📊 Oggetto errore completo:",f),a("error")}finally{n(!1)}};return s.jsxs("div",{className:"contatti-page global-page-layout",children:[s.jsx(Oe,{}),s.jsx("main",{children:s.jsxs("div",{className:"container global-page-container",children:[s.jsx("h1",{children:"Contattaci"}),s.jsxs("section",{className:"form-section",children:[r==="success"&&s.jsx("div",{className:"success-message",children:"🎉 Messaggio inviato con successo! Ti risponderemo al più presto."}),r==="error"&&s.jsx("div",{className:"error-message",children:"❌ Errore nell'invio. Verifica che tutti i campi siano compilati correttamente e completa la verifica di sicurezza reCAPTCHA."}),s.jsxs("form",{onSubmit:c,className:"contact-form",children:[s.jsxs("div",{className:"form-row",children:[s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"text",name:"nome",value:e.nome,onChange:u,placeholder:"Nome*",required:!0})}),s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"text",name:"cognome",value:e.cognome,onChange:u,placeholder:"Cognome*",required:!0})})]}),s.jsxs("div",{className:"form-row",children:[s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"email",name:"email",value:e.email,onChange:u,placeholder:"E-mail*",required:!0})}),s.jsx("div",{className:"form-group",children:s.jsx("input",{type:"tel",name:"telefono",value:e.telefono,onChange:u,placeholder:"Telefono"})})]}),s.jsx("div",{className:"form-group full-width",children:s.jsx("input",{type:"text",name:"corso",value:e.corso,onChange:u,placeholder:"Corso di Studi",required:!0})}),s.jsx("div",{className:"form-group full-width",children:s.jsx("textarea",{name:"message",value:e.message,onChange:u,placeholder:"Scrivi qui il tuo messaggio...",rows:6})}),s.jsx("div",{className:"privacy-group",children:s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:g,onChange:i=>y(i.target.checked),required:!0}),s.jsxs("span",{children:["Ho letto e accetto l'",s.jsx("a",{href:"/#/privacy",target:"_blank",children:"informativa privacy"})]})]})}),s.jsx("div",{className:"recaptcha-group",children:s.jsx(rt,{sitekey:"6LdKX8krAAAAAGUddknlxZkDPdI3E1SVLqjm32v0",onChange:i=>p(i),onExpired:()=>p(null)})}),s.jsx("button",{type:"submit",className:"submit-button",disabled:o||!g||!d,children:o?"Invio in corso...":"Invia la tua richiesta"})]})]})]})}),s.jsx(je,{})]})};export{bt as default};
